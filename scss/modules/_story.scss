/*

Article

*/

.home-feed { @extend .clearfix; }

.story-details {
	a,
	time {
		text-decoration: none;

		&:before {
			content: ' / ';
			opacity: .6;
		}
	}

}

.feed {
	* + * { margin-top: ms(1); }
	>*:last-child { margin-bottom: 0; }
}

.story {
	position: relative;
	background-size: cover !important;
	background-repeat: no-repeat !important;
	background-position: center center !important;

	* + * { margin-top: 1em; }

	.feed & {
		text-align: left;
		padding: ms(1) $paddingH;
		overflow: hidden;



		header {
			*:last-child { margin: 0 !important; }
		}

		a { text-decoration: none; }

		h1 {
			@extend .h4;
			font-weight: 500;
			margin-bottom: ms(-3);
			line-height: 1em;
		}

		h6 { margin-left: 3px; }

		@media (min-width: $tablet) {

			&.featured {
				h1 {
					//font-size: ms(3);
					//margin-bottom: ms(-4);
				}
				h6 { font-size: $bodyFontSize2; }
			}
		}

		@media (min-width: $goldenBreakpoint) {
			h1 { font-size: ms(2) }
		}


	}








	.text-based & {
		border-top: 1px solid $acBorderColor;
		background: none !important;
		padding: 0;

		.image {
			margin: 0 auto;
			img {

				width: 100%;
				height: auto;
			}
		}

		@media (min-width: 520px) {
			border: none;
			width: 50%;
			float: left;
			margin-top: 0;

			&:nth-of-type(odd) {
				clear: left;
				padding-right: $paddingH/2;
			}
			&:nth-of-type(even) {
				padding-left: $paddingH/2;
			}
		}

		@media (min-width: $goldenBreakpoint) {
			display: table;
			width: 100%;
			float: none;
			clear: both;

			padding: ms(1) $paddingH/2;
			border-top: 1px solid $acBorderColor;

			header,
			.image {
				display: table-cell;
				vertical-align: middle;
			}
			.image {
				width: 23.6%;
				max-width: 280px;
			}
			header {
				padding: 0;
				padding-left: 6.18%;
			}
		}
	}
}

.feed .wrap {
	@extend .clearfix;
	clear: both;
	padding: 0 $paddingH 0;

	//padding: 0 $paddingH/2 0;
}


















/* Image based Layout */

.image-based .story {
	color: white;

	div.image, img { display: none !important; }

	// Border

	border-right: 1px solid whitesmoke;
	border-bottom: 1px solid whitesmoke;

	// Before tablet size

	@media (max-width: $tablet) {
		&.featured { padding: 25vh $paddingH; }

		&.noticias:after { @include overlayDatShit(black, .25) }
		&.articulos:after { @include overlayDatShit(black, .25) }
		&.entrevistas:after { @include overlayDatShit(black, .25) }
		&.conciertos:after { @include overlayDatShit(black, .25) }
		&.criticas:after { @include overlayDatShit(black, .25) }
		&.opinion:after { @include overlayDatShit(black, .25) }
		&.tendencias:after { @include overlayDatShit(black, .25) }

		.home-feed & {
			&.noticias:after { @include overlayDatShit(darken($noticias, 10%), .5) }
			&.articulos:after { @include overlayDatShit(darken($articulos, 10%), .5) }
			&.entrevistas:after { @include overlayDatShit(darken($entrevistas, 10%), .5) }
			&.conciertos:after { @include overlayDatShit(darken($conciertos, 10%), .5) }
			&.criticas:after { @include overlayDatShit(darken($criticas, 10%), .5) }
			&.opinion:after { @include overlayDatShit(darken($opinion, 10%), .5) }
			&.tendencias:after { @include overlayDatShit($tendencias, .5) }
		}
	}
	@media (min-width: $tablet) {
		&:after {
			@include overlayDatShit(black);
			background: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.65) 100%);
		}


		// Colorizing

		&.noticias:after { @include gradient(bottom, rgba(0,0,0,0), fade-out(black, .75)); }
		&.articulos:after { @include gradient(bottom, rgba(0,0,0,0), fade-out(black, .75)); }
		&.entrevistas:after { @include gradient(bottom, rgba(0,0,0,0), fade-out(black, .75)); }
		&.conciertos:after { @include gradient(bottom, rgba(0,0,0,0), fade-out(black, .75)); }
		&.criticas:after { @include gradient(bottom, rgba(0,0,0,0), fade-out(black, .75)); }
		&.opinion:after { @include gradient(bottom, rgba(0,0,0,0), fade-out(black, .75)); }
		&.tendencias:after { @include gradient(bottom, rgba(0,0,0,0), fade-out(black, .75)); }

		.home-feed & {

			&.noticias:after { @include gradient(bottom, rgba(0,0,0,0), fade-out(darken($noticias, 10%), .2)); }
			&.articulos:after { @include gradient(bottom, rgba(0,0,0,0), fade-out(darken($articulos, 10%), .2)); }
			&.entrevistas:after { @include gradient(bottom, rgba(0,0,0,0), fade-out(darken($entrevistas, 10%), .2)); }
			&.conciertos:after { @include gradient(bottom, rgba(0,0,0,0), fade-out(darken($conciertos, 10%), .2)); }
			&.criticas:after { @include gradient(bottom, rgba(0,0,0,0), fade-out(darken($criticas, 10%), .2)); }
			&.opinion:after { @include gradient(bottom, rgba(0,0,0,0), fade-out(darken($opinion, 10%), .2)); }
			&.tendencias:after { @include gradient(bottom, rgba(0,0,0,0), fade-out($tendencias, .2)); }
		}
	}

	.no-touch & {

		&:before {
			@include overlayDatShit(black, .9);
			z-index: index($boysBandIndex, justinBieber);
		}


		// For Effect
		img { transition: transform $acTransSpeed $acTransEasing; }
		&:before { transition: background-color $acTransSpeed $acTransEasing; }

		&:hover {
			img { transform: translateX(-2%) scale(1.05); }
			&:before { background-color: rgba(0,0,0,0); }
		}
	}
}

@media (min-width: $goldenBreakpoint) {

	.image-based {

		.story {
			@include square(50%);
			float: left;

			border-right: 1px solid $acBorderColor;

			&.featured {
				width: 100%;
				height: 75%;
				clear: left;
				//border-color: transparent;
			}
		}

		// Layout
		&.no-flexbox .story {
			padding: (25vh)/2 $paddingH;
			&.featured { padding: (50vh)/2 $paddingH; }
		}

		&.flexbox .story {
			display: flex;

		  // To the Left
		  align-items: flex-end;
		  justify-content: flex-start;
		}
	}
}

